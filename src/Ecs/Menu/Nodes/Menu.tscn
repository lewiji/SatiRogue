[gd_scene load_steps=26 format=3 uid="uid://dqowntcb38jnn"]

[ext_resource type="Texture2D" uid="uid://ds1lnors8rwbp" path="res://assets/JestansFantasyTextures/64x64/FNTSY_TX_64__52.png" id="1"]
[ext_resource type="Texture2D" uid="uid://uuc06qa5kax2" path="res://assets/ui/GUI_set_01_v2_0/atlas_GUIset_v2_0.png" id="3"]
[ext_resource type="Material" path="res://src/Ecs/Menu/Nodes/MenuBgShaderMaterial.tres" id="11"]
[ext_resource type="Texture2D" uid="uid://bpppxsmumhb84" path="res://assets/light/rainbow_1.png" id="12"]
[ext_resource type="Script" path="res://src/Ecs/Menu/Nodes/Menu.cs" id="13"]
[ext_resource type="Material" path="res://src/Ecs/Menu/Nodes/MenuButtonShaderMaterial.tres" id="14"]
[ext_resource type="Material" path="res://src/Ecs/Menu/Nodes/MenuButtonsPanelBgShaderMaterial.tres" id="16"]
[ext_resource type="Texture2D" uid="uid://dt5bpd0bi8gd1" path="res://assets/ui/HAS UI/UI_atlas.png" id="19"]
[ext_resource type="Texture2D" uid="uid://c3a0g3r2unb4y" path="res://assets/ui/HAS UI/UI_atlas_n.png" id="23"]

[sub_resource type="Shader" id="21"]
code = "shader_type canvas_item;

uniform sampler2D normal_map: hint_normal;

void fragment(){
    vec4 c = texture(TEXTURE, UV) * COLOR;
    COLOR = c;
	NORMAL_MAP = texture(normal_map, UV).rgb;
}"

[sub_resource type="ShaderMaterial" id="20"]
shader = SubResource("21")
shader_parameter/normal_map = ExtResource("23")

[sub_resource type="AtlasTexture" id="19"]
atlas = ExtResource("19")
region = Rect2(928, 320, 48, 48)

[sub_resource type="Animation" id="12"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:time")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(),
"points": PackedFloat32Array(),
"times": PackedFloat32Array()
}

[sub_resource type="Animation" id="13"]
resource_name = "fade_in"
length = 1.62
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:time")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(),
"points": PackedFloat32Array(),
"times": PackedFloat32Array()
}

[sub_resource type="Animation" id="14"]
resource_name = "fade_out"
length = 0.62
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:time")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(),
"points": PackedFloat32Array(),
"times": PackedFloat32Array()
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_pqt4i"]
_data = {
"RESET": SubResource("12"),
"fade_in": SubResource("13"),
"fade_out": SubResource("14")
}

[sub_resource type="OccluderPolygon2D" id="9"]
polygon = PackedVector2Array(2, 0, 632, 0, 630, 6, 4, 6)

[sub_resource type="AtlasTexture" id="1"]
atlas = ExtResource("3")
region = Rect2(792, 128, 30, 30)
margin = Rect2(8, 12, 16, 24)

[sub_resource type="OccluderPolygon2D" id="3"]
polygon = PackedVector2Array(447, 0, 3, 0, 5, 2, 445, 2)

[sub_resource type="AtlasTexture" id="16"]
atlas = ExtResource("3")
region = Rect2(764, 353, 25, 30)
margin = Rect2(8, 12, 16, 24)

[sub_resource type="AtlasTexture" id="17"]
atlas = ExtResource("3")
region = Rect2(1, 505, 30, 30)
margin = Rect2(8, 12, 16, 24)

[sub_resource type="AtlasTexture" id="18"]
atlas = ExtResource("3")
region = Rect2(761, 321, 30, 30)
margin = Rect2(8, 12, 16, 24)

[sub_resource type="Animation" id="10"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PointLight2D:energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(),
"points": PackedFloat32Array(),
"times": PackedFloat32Array()
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("PointLight2D:range_height")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(),
"points": PackedFloat32Array(),
"times": PackedFloat32Array()
}

[sub_resource type="Animation" id="11"]
resource_name = "scroll_light"
length = 10.0
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PointLight2D:energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(),
"points": PackedFloat32Array(),
"times": PackedFloat32Array()
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("PointLight2D:range_height")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(),
"points": PackedFloat32Array(),
"times": PackedFloat32Array()
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7fh1v"]
_data = {
"RESET": SubResource("10"),
"scroll_light": SubResource("11")
}

[node name="Menu" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3
size_flags_vertical = 3
mouse_filter = 1
script = ExtResource("13")

[node name="TextureRect" type="TextureRect" parent="."]
modulate = Color(0.133333, 0, 0.294118, 1)
light_mask = 6
material = ExtResource("11")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3
size_flags_vertical = 3
texture = ExtResource("1")
stretch_mode = 2

[node name="MarginContainer" type="MarginContainer" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer"]
offset_right = 1152.0
offset_bottom = 648.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="LogoContainer" type="CenterContainer" parent="MarginContainer/VBoxContainer"]
light_mask = 2
offset_right = 1152.0
offset_bottom = 46.0
size_flags_horizontal = 3

[node name="TextureRect" type="NinePatchRect" parent="MarginContainer/VBoxContainer/LogoContainer"]
self_modulate = Color(1, 1, 1, 0.882353)
light_mask = 2
material = SubResource("20")
offset_left = 553.0
offset_right = 599.0
offset_bottom = 46.0
size_flags_horizontal = 3
size_flags_vertical = 3
texture = SubResource("19")
patch_margin_left = 23
patch_margin_top = 23
patch_margin_right = 23
patch_margin_bottom = 23

[node name="Label" type="RichTextLabel" parent="MarginContainer/VBoxContainer/LogoContainer"]
light_mask = 4
clip_contents = false
offset_left = 576.0
offset_top = 11.0
offset_right = 576.0
offset_bottom = 34.0
size_flags_horizontal = 3
bbcode_enabled = true
text = "SatiRogue"
fit_content_height = true
scroll_active = false

[node name="AnimationPlayer" type="AnimationPlayer" parent="MarginContainer/VBoxContainer/LogoContainer/Label"]
autoplay = "fade_in"
libraries = {
"": SubResource("AnimationLibrary_pqt4i")
}

[node name="MenuButtonsContainer" type="MarginContainer" parent="MarginContainer/VBoxContainer"]
offset_top = 50.0
offset_right = 1152.0
offset_bottom = 546.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 1.62

[node name="Border" type="Panel" parent="MarginContainer/VBoxContainer/MenuButtonsContainer"]
light_mask = 2
offset_right = 1152.0
offset_bottom = 496.0
size_flags_vertical = 3
mouse_filter = 1

[node name="MarginContainer" type="MarginContainer" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border"]
show_behind_parent = true
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Bg" type="Panel" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/MarginContainer"]
self_modulate = Color(0.552941, 0.203922, 0.878431, 1)
light_mask = 6
material = ExtResource("16")
offset_right = 1152.0
offset_bottom = 496.0
size_flags_horizontal = 3

[node name="Control" type="Control" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/MarginContainer/Bg"]
layout_mode = 3
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_vertical = 3

[node name="LightOccluder2D" type="LightOccluder2D" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/MarginContainer/Bg/Control"]
visible = false
light_mask = 4
occluder = SubResource("9")

[node name="CenterContainer" type="CenterContainer" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer"]
offset_left = 528.0
offset_top = 180.0
offset_right = 623.0
offset_bottom = 316.0
size_flags_vertical = 3

[node name="NewGame" type="Button" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer"]
unique_name_in_owner = true
light_mask = 2
material = ExtResource("14")
offset_right = 95.0
offset_bottom = 31.0
action_mode = 0
text = "NEW GAME"
icon = SubResource("1")
expand_icon = true

[node name="Control" type="Control" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer/NewGame"]
layout_mode = 3
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -225.0
offset_top = -8.0
offset_right = 225.0
offset_bottom = -6.0
mouse_filter = 2

[node name="LightOccluder2D" type="LightOccluder2D" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer/NewGame/Control"]
visible = false
light_mask = 4
occluder = SubResource("3")

[node name="ContinueGame" type="Button" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer"]
unique_name_in_owner = true
light_mask = 4
material = ExtResource("14")
offset_top = 35.0
offset_right = 95.0
offset_bottom = 66.0
disabled = true
text = "CONTINUE"
icon = SubResource("16")
expand_icon = true

[node name="Control" type="Control" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer/ContinueGame"]
layout_mode = 3
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -225.0
offset_top = -8.0
offset_right = 225.0
offset_bottom = -6.0
mouse_filter = 2

[node name="LightOccluder2D" type="LightOccluder2D" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer/ContinueGame/Control"]
visible = false
light_mask = 4
occluder = SubResource("3")

[node name="Options" type="Button" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer"]
unique_name_in_owner = true
light_mask = 4
material = ExtResource("14")
offset_top = 70.0
offset_right = 95.0
offset_bottom = 101.0
text = "OPTIONS"
icon = SubResource("17")
expand_icon = true

[node name="Control" type="Control" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer/Options"]
layout_mode = 3
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -225.0
offset_top = -8.0
offset_right = 225.0
offset_bottom = -6.0
mouse_filter = 2

[node name="LightOccluder2D" type="LightOccluder2D" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer/Options/Control"]
visible = false
light_mask = 4
occluder = SubResource("3")

[node name="Quit" type="Button" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer"]
unique_name_in_owner = true
light_mask = 4
material = ExtResource("14")
offset_top = 105.0
offset_right = 95.0
offset_bottom = 136.0
text = "QUIT"
icon = SubResource("18")
expand_icon = true

[node name="Control" type="Control" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer/Quit"]
layout_mode = 3
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -225.0
offset_top = -8.0
offset_right = 225.0
offset_bottom = -6.0
mouse_filter = 2

[node name="LightOccluder2D" type="LightOccluder2D" parent="MarginContainer/VBoxContainer/MenuButtonsContainer/Border/CenterContainer/VBoxContainer/Quit/Control"]
visible = false
light_mask = 4
occluder = SubResource("3")

[node name="MarginContainer" type="MarginContainer" parent="MarginContainer/VBoxContainer"]
offset_top = 550.0
offset_right = 1152.0
offset_bottom = 648.0
size_flags_vertical = 3
size_flags_stretch_ratio = 0.32

[node name="PointLight2D" type="PointLight2D" parent="."]
unique_name_in_owner = true
energy = 1.62
range_item_cull_mask = 7
shadow_enabled = true
shadow_color = Color(0, 0, 0, 0.498039)
shadow_item_cull_mask = 4
texture = ExtResource("12")
offset = Vector2(556, 654)
texture_scale = 12.1111

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
autoplay = "scroll_light"
playback_speed = 1.62
libraries = {
"": SubResource("AnimationLibrary_7fh1v")
}

[node name="VisibleOnScreenEnabler2D" type="VisibleOnScreenEnabler2D" parent="."]
rect = Rect2(0, 0, 64, 64)
